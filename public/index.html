<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Archon Genomics X PRIZE scoring</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/chosen.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/variation-web.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/chosen.jquery.min.js"></script>
    <script src="js/score.js"></script>
    <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34997095-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    </script>
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">X PRIZE scoring</a>
          <div class="collapse nav-collapse">
            <ul id="top-navbar" class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/analyses">Analyses</a></li>
            </ul>
          </div><!--/.nav-collapse -->
          <div class="pull-right" id="user-manage">
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div id="main-content">
      <form class="form-horizontal" method="post"
            enctype="multipart/form-data" action="/score">
        <fieldset>
        <h3>Submit variation file for scoring</h3>
        <div class="control-group" id="upload-choices">
          <label class="control-label" for="upload-method">Upload method</label>
          <div class="controls">
          <ul class="nav nav-pills">
            <li id="menu-choice-upload" class="active">
              <a id="file-choice-upload" href="#">Web upload</a></li>
            <li id="menu-choice-gs"><a id="file-choice-gs" href="#">GenomeSpace</a></li>
          </ul>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="variant-file">Variations</label>
          <div class="controls">
            <input class="input-file" id="variant-file" name="variant-file" type="file"></input>
            <p class="help-block">Sequence differences, in <a href="http://www.1000genomes.org/wiki/Analysis/Variant%20Call%20Format/vcf-variant-call-format-version-41">VCF format</a>, relative to the
              <a href="http://www.ncbi.nlm.nih.gov/projects/genome/assembly/grc/human/index.shtml">GRCh37 reference genome<a>
              (<a href="ftp://gsapubftp-anonymous@ftp.broadinstitute.org/bundle/1.5/b37/human_g1k_v37.fasta.gz">FASTA download</a>).
              <br/>
              <a href="https://raw.github.com/chapmanb/bcbio.variation/master/test/data/phasing-contestant.vcf">Example file</a>
            </p>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="region-file">Scoring regions</label>
          <div class="controls">
            <input class="input-file" id="region-file" name="region-file" type="file"></input>
            <p class="help-block">Regions to assess for scoring, in <a href="http://genome.ucsc.edu/FAQ/FAQformat.html#format1">BED format</a>.
              <br/>
              <a href="https://github.com/chapmanb/bcbio.variation/blob/master/test/data/phasing-reference-regions.bed">Example file</a>
            </p>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="region-file">Comparison genome</label>
          <div class="controls">
            <select id="comparison-genome" name="comparison-genome"
                    data-placeholder="Genome"></select>
          </div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Score</button>
          <p class="help-block">To see example output, click without uploading any files.</p>
        </div>
        </fieldset>
        <input class="hidden" id="gs-region-file" name="gs-region-file"></input>
        <input class="hidden" id="gs-variant-file" name="gs-variant-file"></input>
        <div id="anti-forgery"></div>
      </form>
        <div class="row">
          <div class="span6">
            <h3>Instructions</h3>
            <p>
              Welcome to the genome scoring page for the
              <a href="http://genomics.xprize.org/">
                Archon Genomics XPrize presented by Express Scripts</a>.
              Follow this
              <a href="http://www.youtube.com/watch?v=hQquq5Yos0Y">
                how-to video</a>
              and submit your sequences for scoring in 3 simple steps:
            </p>
              <ol>
                <li>Upload your variant file, and optionally a BED
                  file of regions to score, to
                  <a href="http://www.genomespace.org/">GenomeSpace</a>.
                <li>Login with your GenomeSpace username and password
                  and select the uploaded files.
                <li>Click Score and wait for your evaluation score.
              </ol>
          </div>
          <div class="span6">
            <h3>Documentation</h3>
            <p>
              The scoring process uploads detailed results files
              and results to your GenomeSpace folder, giving you full
              access to correctly and incorrectly scored variants.
              Using GenomeSpace, you can easily import your files into
              external tools like
              <a href="http://galaxy.psu.edu/">Galaxy</a> for further analysis.
            </p>
            <p>
              For more information on the validation protocol implemented
              to generate the software and data found on this website,
              please visit the
              <a href="https://edgebio.atlassian.net/wiki/display/AGXPPUB/Home">
                Validation Protocol Information Center</a>.
            </p>
          </div>
        </div>
      </div>
      <footer class="footer">
      <p>
      <a href="http://genomics.xprize.org/">Archon Genomics XPrize presented by Express Scripts</a>
      |
      <a href="http://www.edgebio.com/">EdgeBio</a>
      |
      <a href="http://compbio.sph.harvard.edu/chb/">Harvard School of Public Health</a>
      |
      <a href="http://www.ncsa.illinois.edu/">NCSA</a>
      </p>
      </footer>
    </div> <!-- /container -->
    <script>bcbio.variation.score.upload_generalize();</script>
    <script>bcbio.variation.login.handle_login();</script>
    <script>bcbio.variation.score.set_navigation();</script>
  </body>
</html>
